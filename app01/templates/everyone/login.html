{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <title>应届生去向系统 | 登陆</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description"/>
    <meta content="Coderthemes" name="author"/>

    <!-- App favicon -->
    <link rel="shortcut icon" href="{% static 'assets/images/favicon.ico' %}">

    <!-- Theme Config Js -->
    <script src="{% static 'assets/js/config.js' %}"></script>

    <!-- App css -->
    <link href="{% static 'assets/css/app.min.css' %}" rel="stylesheet" type="text/css" id="app-style"/>

    <!-- Icons css -->
    <link href="{% static 'assets/css/icons.min.css' %}" rel="stylesheet" type="text/css"/>
    <style>
        ul {
            list-style-type: none !important; /* 移除项目符号 */
            margin: 0; /* 移除默认的外边距 */
            padding: 0; /* 移除默认的内边距 */
        }

        li {
            margin: 0; /* 移除默认的外边距 */
            padding: 0; /* 移除默认的内边距 */
        }
    </style>
</head>

<body class="authentication-bg pb-0">

<div class="auth-fluid">

    <!-- Auth fluid right content -->
    <div class="auth-fluid-right text-center">
        <div class="auth-user-testimonial">
            <div id="carouselExampleFade" class="carousel slide carousel-fade" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <h2 class="mb-3">应届生去向系统</h2>
                        <p class="lead"><i class="ri-double-quotes-l"></i> 欢迎您的到来！
                        </p>
                        <p>
                            - HUAT
                        </p>
                    </div>
                </div>
            </div>
        </div> <!-- end auth-user-testimonial-->
    </div>
    <!-- end Auth fluid right content -->

    <!--Auth fluid left content -->
    <div class="auth-fluid-form-box">

        <div class="card-body d-flex flex-column h-50 gap-3 " style="position: relative">

            <!-- Logo -->
            <div class="auth-brand text-center text-lg-start">
                <a href="#" class="logo-dark">
                    <span><img src="{% static 'assets/images/logo1.png' %}" alt="dark logo" height="30"></span>
                </a>
                <a href="#" class="logo-light">
                    <span><img src="{% static 'assets/images/logo.png' %}" alt="logo" height="30"></span>
                </a>
            </div>
            <h1 class="mt-1" style="text-align: center;">登陆</h1>

            <div class="my-auto" style="margin-top: 60px!important">
                <!-- title-->
                {% if messages %}
                    <ul class="messages">
                        {% for message in messages %}
                            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
                                <label class="btn btn-success" style="text-align: center">{{ message }}</label>
                            </li>
                        {% endfor %}
                    </ul>
                {% endif %}
                <!-- form -->
                <form action="/" method="post" novalidate style="position: relative">
                    {% csrf_token %}
                    <div class="mb-4">
                        <label class="form-label">{{ form.phone.label }}</label>
                        {{ form.phone }}
                        <span class="text-danger"
                              style="position: absolute;">{{ form.phone.errors }}</span>
                    </div>
                    <div class="mb-4">
                         <a href="/student/forgetpasswd/" class="text-muted float-end fs-12">忘记密码?</a>
                        <label class="form-label">{{ form.password.label }}</label>
                        <div class="input-group input-group-merge">
                            {{ form.password }}
                            <div class="input-group-text"
                                 data-password="false">
                                <span class="password-eye"></span>
                            </div>
                        </div>
                        <span class="text-danger"
                              style="position: absolute;">{{ form.password.errors }}</span>

                        <span class="text-danger" style="position: absolute;">{{ error_msg }}</span>

                    </div>
                    <div class="d-grid mb-1 text-center">
                        <button class="btn btn-primary" type="submit">登陆</button>
                    </div>
                    <!-- social-->
                </form>
                <div class="text-center mt-3">
                    <p class="text-muted">没有账户
                        <a href="/register/" class="text-muted ms-1">
                            <b>注册一个！</b>
                        </a>
                    </p>
                    <a href="/teacher/login/" class="text-muted ms-1">
                        <b>教职工登陆</b>
                    </a>
                    <a href="/admin/" class="text-dark ms-1" style="text-align: center">
                        <b>管理员登陆</b>
                    </a>
                </div>


                <!-- end form-->
            </div>


        </div> <!-- end .card-body -->
    </div>
    <!-- end auth-fluid-form-box-->
</div>
<!-- end auth-fluid-->
<!-- Vendor js -->
<script src="{% static 'assets/js/vendor.min.js' %}"></script>
<!-- App js -->
<script src="{% static 'assets/js/app.min.js' %}"></script>
<script>
    function refreshCaptcha() {
        fetch('/refresh_captcha/')
            .then(response => response.json())
            .then(data => {
                const imgElement = document.querySelector('.captcha');
                imgElement.src = data.image_url;
                document.querySelector('#id_captcha_1').value = ''; // 清空输入框
            });
    }
</script>
</body>

</html>
